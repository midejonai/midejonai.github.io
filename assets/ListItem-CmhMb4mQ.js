import{d as S,e as f,f as $,g as P,o as t,c as s,b as l,t as u,h as a,F as m,r as v,n as j,w as d,i as z,_ as E}from"./index-611UtYUD.js";const H={class:"list-item-container"},N={key:0,class:"publication-meta"},R={key:0},V={key:1},A={key:2},D={key:1,class:"tags-container"},W={class:"content-area"},q={key:0,class:"image-gallery"},G=["src","alt"],J={class:"list-item-text"},K={key:2,class:"authors-list"},O={key:0},Q={key:3,class:"project-links"},T=["href"],U=["src","alt"],X=S({__name:"ListItem",props:{title:{},subtitle:{},date:{},tags:{},text:{},images:{},authors:{},links:{}},setup(L){const o=L,h=f(0),p=f(!1),y=f(1);$(()=>{var k;if(!((k=o.images)!=null&&k.length))return;const e=o.images.map(c=>new Promise(r=>{const n=new Image;n.src=c,n.onload=()=>r({width:n.naturalWidth,height:n.naturalHeight}),n.onerror=()=>r({width:1,height:1})}));Promise.all(e).then(c=>{const r=c.map(n=>n.height/n.width);y.value=Math.max(...r,.75)})});const _=P(()=>{var e;return((e=o.images)==null?void 0:e[h.value])??""}),M=P(()=>({aspectRatio:`${1/y.value}`,maxHeight:"300px"}));function b(e){e==null||e.stopPropagation(),o.images&&(h.value=(h.value+1)%o.images.length)}function w(e){e==null||e.stopPropagation(),o.images&&(h.value=(h.value-1+o.images.length)%o.images.length)}function B(){o.images&&(p.value=!0,document.body.style.overflow="hidden")}function C(){p.value=!1,document.body.style.overflow=""}return(e,k)=>{var c,r,n,I,F;return t(),s("article",H,[l("h3",null,u(e.title),1),e.subtitle||e.date?(t(),s("h4",N,[e.subtitle?(t(),s("span",R,u(e.subtitle),1)):a("",!0),e.subtitle&&e.date?(t(),s("span",V," • ")):a("",!0),e.date?(t(),s("span",A,u(e.date),1)):a("",!0)])):a("",!0),(c=e.tags)!=null&&c.length?(t(),s("div",D,[(t(!0),s(m,null,v(e.tags,(i,g)=>(t(),s("span",{key:g,class:"tag"},u(i),1))),128))])):a("",!0),l("div",W,[(r=e.images)!=null&&r.length?(t(),s("div",q,[l("div",{class:"gallery-thumbnail",onClick:B,style:j(M.value)},[l("img",{src:_.value,alt:`${e.title} image`,class:"gallery-image"},null,8,G),e.images.length>1?(t(),s(m,{key:0},[l("button",{class:"nav-arrow left",onClick:d(w,["stop"])}),l("button",{class:"nav-arrow right",onClick:d(b,["stop"])})],64)):a("",!0)],4)])):a("",!0),l("p",J,u(e.text),1)]),(n=e.authors)!=null&&n.length?(t(),s("div",K,[(t(!0),s(m,null,v(e.authors,(i,g)=>(t(),s(m,{key:g},[l("span",{class:z({"author-me":i.includes("Marios")})},u(i),3),g<e.authors.length-1?(t(),s("span",O,", ")):a("",!0)],64))),128))])):a("",!0),(I=e.links)!=null&&I.length?(t(),s("div",Q,[(t(!0),s(m,null,v(e.links,(i,g)=>(t(),s("a",{key:g,href:i.url,target:"_blank",rel:"noopener noreferrer",class:"project-link"},u(i.text),9,T))),128))])):a("",!0),p.value&&((F=e.images)!=null&&F.length)?(t(),s("div",{key:4,class:"fullscreen-overlay",onClick:d(C,["self"])},[l("button",{class:"close-btn",onClick:C},"×"),l("img",{src:_.value,alt:`${e.title} image (fullscreen)`,class:"fullscreen-image"},null,8,U),e.images.length>1?(t(),s("button",{key:0,class:"nav-arrow left large-arrow",onClick:d(w,["stop"])})):a("",!0),e.images.length>1?(t(),s("button",{key:1,class:"nav-arrow right large-arrow",onClick:d(b,["stop"])})):a("",!0)])):a("",!0)])}}}),Z=E(X,[["__scopeId","data-v-d4c60a53"]]);export{Z as L};
